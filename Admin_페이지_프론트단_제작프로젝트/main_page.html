<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>신규 등록 상품</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <style>
    .page-wrap {
      max-width: 1200px;
    }
    .section-title {
      font-weight: 700;
    }
    .toolbar {
      gap: 12px;
    }
    .table td,
    .table th {
      padding-top: 14px;
      padding-bottom: 14px;
      vertical-align: middle;
    }
  </style>

  <body>
    <main class="container py-5 page-wrap">
      <h1 class="h3 section-title mb-4">신규 등록 상품</h1>

      <!-- 상단 툴바 -->
      <div class="d-flex flex-wrap align-items-center toolbar mb-4">
        <!-- 카테고리 -->
        <div class="dropdown">
          <button
            class="btn btn-outline-secondary dropdown-toggle"
            data-bs-toggle="dropdown"
            id="category"
          >
            카테고리
          </button>
          <ul class="dropdown-menu">
            <li><button class="dropdown-item" data-cat="상의">상의</button></li>
            <li><button class="dropdown-item" data-cat="하의">하의</button></li>
            <li><button class="dropdown-item" data-cat="신발">신발</button></li>
            <li>
              <button class="dropdown-item" data-cat="패션잡화">
                패션잡화
              </button>
            </li>
          </ul>
        </div>

        <!-- 검색 -->
        <div class="d-flex align-items-center gap-2">
          <input
            type="text"
            class="form-control"
            placeholder="제품명을 입력해주세요"
            id="search"
            style="max-width: 600px"
          />
          <button
            class="btn btn-primary"
            id="btn-search"
            style="min-width: 60px"
          >
            조회
          </button>
        </div>

        <!-- 회원 가입 -->
        <a href="join_membership.html" class="btn btn-success ms-auto"
          >회원 가입</a
        >
      </div>

      <!-- 테이블 -->
      <div class="table-responsive">
        <table class="table align-middle">
          <thead class="table-light">
            <tr>
              <th style="width: 140px">카테고리</th>
              <th style="width: 220px">브랜드</th>
              <th>상품명</th>
              <th class="text-end" style="width: 160px">가격</th>
            </tr>
          </thead>
          <tbody id="product-body">
            <tr>
              <td>상의</td>
              <td>Supreme</td>
              <td>슈프림 박스로고 후드티</td>
              <td class="text-end">390,000</td>
            </tr>
            <tr>
              <td>하의</td>
              <td>DIESEL</td>
              <td>디젤 트랙 팬츠</td>
              <td class="text-end">188,000</td>
            </tr>
            <tr>
              <td>신발</td>
              <td>Nike</td>
              <td>에어포스 1</td>
              <td class="text-end">137,000</td>
            </tr>
            <tr>
              <td>패션잡화</td>
              <td>Music&amp;Goods</td>
              <td>빵빵이 키링</td>
              <td class="text-end">29,000</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- 페이지네이션 -->
      <nav class="d-flex justify-content-center mt-4">
        <ul class="pagination mb-0" id="pagination"></ul>
      </nav>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // 카테고리 선택
      document.querySelectorAll('[data-cat]').forEach((item) => {
        item.addEventListener('click', () => {
          document.getElementById('category').textContent = item.dataset.cat;
        });
      });

      // 검색
      document.getElementById('btn-search').addEventListener('click', () => {
        const value = document.getElementById('search').value.trim();
        if (!value) {
          alert('제품명을 입력해주세요.');
          return;
        }
        alert(`조회: ${value}`);
      });
      const rowsPerPage = 4;
      let currentPage = 1;

      const tbody = document.getElementById('product-body');
      const pagination = document.getElementById('pagination');

      const page1Rows = Array.from(tbody.querySelectorAll('tr'));
      const extraData = [
        { cat: '상의', brand: 'ZARA', name: '니트 스웨터', price: '59,000' },
        { cat: '하의', brand: 'MUJI', name: '면 팬츠', price: '39,000' },
        { cat: '신발', brand: 'Adidas', name: '슈퍼스타', price: '120,000' },
        { cat: '상의', brand: 'Uniqlo', name: '기본 셔츠', price: '29,000' },

        {
          cat: '패션잡화',
          brand: 'LEGO',
          name: '미니 피규어',
          price: '15,000',
        },
        {
          cat: '신발',
          brand: 'New Balance',
          name: '574 클래식',
          price: '129,000',
        },
        { cat: '하의', brand: 'GU', name: '슬랙스', price: '49,000' },
        { cat: '상의', brand: 'H&M', name: '후드 집업', price: '45,000' },
      ];

      // 전체 데이터 구성
      const allRows = [
        ...page1Rows,
        ...extraData.map((item) => {
          const tr = document.createElement('tr');
          tr.innerHTML = `
        <td>${item.cat}</td>
        <td>${item.brand}</td>
        <td>${item.name}</td>
        <td class="text-end">${item.price}</td>
      `;
          return tr;
        }),
      ];

      const totalPages = Math.ceil(allRows.length / rowsPerPage);

      function renderTable(page) {
        tbody.innerHTML = '';

        const start = (page - 1) * rowsPerPage;
        const end = start + rowsPerPage;

        allRows.slice(start, end).forEach((row) => {
          tbody.appendChild(row);
        });
      }

      function renderPagination() {
        pagination.innerHTML = '';

        // 이전
        const prev = document.createElement('li');
        prev.className = `page-item ${currentPage === 1 ? 'disabled' : ''}`;
        prev.innerHTML = `<a class="page-link">이전</a>`;
        prev.onclick = () => {
          if (currentPage > 1) {
            currentPage--;
            update();
          }
        };
        pagination.appendChild(prev);

        // 페이지 번호
        for (let i = 1; i <= totalPages; i++) {
          const li = document.createElement('li');
          li.className = `page-item ${i === currentPage ? 'active' : ''}`;
          li.innerHTML = `<a class="page-link">${i}</a>`;
          li.onclick = () => {
            currentPage = i;
            update();
          };
          pagination.appendChild(li);
        }

        // 다음
        const next = document.createElement('li');
        next.className = `page-item ${currentPage === totalPages ? 'disabled' : ''}`;
        next.innerHTML = `<a class="page-link">다음</a>`;
        next.onclick = () => {
          if (currentPage < totalPages) {
            currentPage++;
            update();
          }
        };
        pagination.appendChild(next);
      }

      function update() {
        renderTable(currentPage);
        renderPagination();
      }

      // 최초 실행
      update();
    </script>
  </body>
</html>

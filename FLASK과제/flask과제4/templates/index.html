{% extends "base.html" %} {% block title %}글 목록 - 미니 블로그{% endblock %}
{% block content %}
<div class="card">
  <h2 style="margin: 0 0 12px">최근 글</h2>

  {% if posts|length == 0 %}
  <p class="muted">
    아직 글이 없습니다. 오른쪽 위의 “글쓰기”로 첫 글을 작성해보세요.
  </p>
  {% else %} {% for p in posts %}
  <div>
    <a href="{{ url_for('posts.detail', post_id=p.id) }}">
      <div class="post-title">{{ p.title }}</div>
    </a>
    <div class="muted">
      작성: {{ p.created_at.strftime("%Y-%m-%d %H:%M") }} {% if p.updated_at %}
      · 수정: {{ p.updated_at.strftime("%Y-%m-%d %H:%M") }} {% endif %}
    </div>
    <p class="post-excerpt">
      {{ (p.content[:140] ~ ("..." if p.content|length > 140 else "")) }}
    </p>
  </div>
  {% if not loop.last %}
  <div class="hr"></div>
  {% endif %} {% endfor %} {% endif %}
</div>
{% endblock %}
